"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9822],{380:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>o,default:()=>p,frontMatter:()=>i,metadata:()=>a,toc:()=>u});var r=t(4848),s=t(8453);const i={title:"GitHub Actions"},o=void 0,a={id:"api/deployment/github-actions",title:"GitHub Actions",description:"This configuration assumes that your main directory is ./website",source:"@site/docs/api/deployment/github-actions.mdx",sourceDirName:"api/deployment",slug:"/api/deployment/github-actions",permalink:"/docs/api/deployment/github-actions",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1716203165e3,frontMatter:{title:"GitHub Actions"},sidebar:"mySidebar",previous:{title:"CLI",permalink:"/docs/api/deployment/cli"},next:{title:"Styling",permalink:"/docs/api/styling"}},c={},u=[{value:"Template 1",id:"template-1",level:2},{value:"Template 2",id:"template-2",level:2}];function l(n){const e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,s.R)(),...n.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(e.p,{children:["This configuration assumes that your main directory is ",(0,r.jsx)(e.code,{children:"./website"})]}),"\n",(0,r.jsx)(e.h2,{id:"template-1",children:"Template 1"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yml",metastring:'title=".github/workflows/deploy.yml"',children:"\r\nname: Deploy to GitHub Pages\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - main\r\n\r\n\r\npermissions:\r\n  contents: write\r\n\r\njobs:\r\n  deploy:\r\n    name: Deploy to GitHub Pages\r\n    runs-on: ubuntu-latest\r\n    steps:\r\n      - uses: actions/checkout@v4\r\n        with:\r\n          fetch-depth: 0\r\n      - uses: actions/setup-node@v4\r\n        with:\r\n          node-version: 18\r\n\r\n      - name: Install dependencies\r\n        run: |\r\n        // highlight-start\r\n          cd website\r\n          npm install\r\n          npm run build\r\n// highlight-end\r\n\r\n      - name: Deploy to GitHub Pages\r\n        uses: peaceiris/actions-gh-pages@v3\r\n        with:\r\n          github_token: ${{ secrets.GITHUB_TOKEN }}\r\n\r\n          publish_dir: website/build\n"})}),"\n",(0,r.jsx)(e.h2,{id:"template-2",children:"Template 2"}),"\n",(0,r.jsx)(e.pre,{children:(0,r.jsx)(e.code,{className:"language-yml",children:"name: GitHub Pages\r\n\r\non:\r\n  push:\r\n    branches:\r\n      - main\r\n    paths:\r\n      - '.github/workflows/deploy.yml'\r\n      - 'website/**'\r\n  pull_request:\r\n\r\njobs:\r\n  deploy:\r\n    runs-on: ubuntu-latest\r\n    permissions:\r\n      contents: write\r\n    concurrency:\r\n      group: ${{ github.workflow }}-${{ github.ref }}\r\n    defaults:\r\n      run:\r\n        working-directory: website\r\n    steps:\r\n      - uses: actions/checkout@v4\r\n\r\n      - name: Setup Node\r\n        uses: actions/setup-node@v4\r\n        with:\r\n          node-version: 20\r\n\r\n      - name: Cache dependencies\r\n        uses: actions/cache@v4\r\n        with:\r\n          path: ~/.npm\r\n          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\r\n          restore-keys: |\r\n            ${{ runner.os }}-node-\r\n\r\n      - run: npm ci\r\n      - run: npm run build\r\n\r\n      - name: Deploy\r\n        uses: peaceiris/actions-gh-pages@v4\r\n        if: github.ref == 'refs/heads/main'\r\n        with:\r\n          github_token: ${{ secrets.GITHUB_TOKEN }}\r\n          publish_dir: ./website/build\r\n      \n"})})]})}function p(n={}){const{wrapper:e}={...(0,s.R)(),...n.components};return e?(0,r.jsx)(e,{...n,children:(0,r.jsx)(l,{...n})}):l(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>o,x:()=>a});var r=t(6540);const s={},i=r.createContext(s);function o(n){const e=r.useContext(i);return r.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function a(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(s):n.components||s:o(n.components),r.createElement(i.Provider,{value:e},n.children)}}}]);