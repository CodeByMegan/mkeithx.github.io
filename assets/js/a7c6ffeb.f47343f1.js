"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9249],{1832:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>d,frontMatter:()=>a,metadata:()=>s,toc:()=>c});var r=t(4848),i=t(8453);const a={title:"Crawlers",description:"Algolia Crawlers"},l=void 0,s={id:"api/algolia/crawlers",title:"Crawlers",description:"Algolia Crawlers",source:"@site/docs/api/algolia/crawlers.mdx",sourceDirName:"api/algolia",slug:"/api/algolia/crawlers",permalink:"/docs/api/algolia/crawlers",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:1716351608e3,frontMatter:{title:"Crawlers",description:"Algolia Crawlers"},sidebar:"mySidebar",previous:{title:"Algolia DocSearch",permalink:"/docs/api/algolia/docsearch"},next:{title:"Guides",permalink:"/docs/guides"}},o={},c=[];function h(e){const n={code:"code",pre:"pre",...(0,i.R)(),...e.components};return(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-yml",children:'new Crawler({\n  // highlight-start\n  appId: "<YOUR-APP-ID>",\n  apiKey: "<YOU-API-KEY>",\n   // highlight-end\n  rateLimit: 8,\n  maxDepth: 10,\n  maxUrls: 5000,\n  renderJavaScript: false,\n  startUrls: ["https://YOUR_WEBSITE_URL"],\n  sitemaps: ["https://YOUR_WEBSITE_URL/sitemap.xml"],\n  ignoreCanonicalTo: true,\n  discoveryPatterns: ["https://YOUR_WEBSITE_URL/**"],\n# Optional\n      // highlight-start\n  exclusionPatterns: [\n    "https://YOUR_WEBSITE_URL/FOO",\n    "https://YOUR_WEBSITE_URL/BAR",\n  ],\n      // highlight-end\n  schedule: "every 2 day at 6:00 am",\n  actions: [\n    {\n      indexName: "<YOUR_INDEX_NAME>",\n      pathsToMatch: ["https://YOUR_WEBSITE_URL/**"],\n      recordExtractor: ({ $, helpers }) => {\n        // priority order: deepest active sub list header -> navbar active item -> \'Documentation\'\n        const lvl0 =\n          $(\n            ".menu__link.menu__link--sublist.menu__link--active, .navbar__item.navbar__link--active",\n          )\n            .last()\n            .text() || "Documentation";\n\n        return helpers.docsearch({\n          recordProps: {\n            lvl0: {\n              selectors: "",\n              defaultValue: lvl0,\n            },\n            lvl1: ["header h1", "article h1"],\n            lvl2: "article h2",\n            lvl3: "article h3",\n            lvl4: "article h4",\n            lvl5: "article h5, article td:first-child",\n            lvl6: "article h6",\n            content: "article p, article li, article td:last-child",\n          },\n          indexHeadings: true,\n          aggregateContent: true,\n          recordVersion: "v3",\n        });\n      },\n    },\n  ],\n  safetyChecks: { beforeIndexPublishing: { maxLostRecordsPercentage: 30 } },\n  initialIndexSettings: {\n    YOUR_INDEX_NAME: {\n      attributesForFaceting: ["type", "lang"],\n      attributesToRetrieve: [\n        "hierarchy",\n        "content",\n        "anchor",\n        "url",\n        "url_without_anchor",\n        "type",\n      ],\n      attributesToHighlight: ["hierarchy", "content"],\n      attributesToSnippet: ["content:10"],\n      camelCaseAttributes: ["hierarchy", "content"],\n      searchableAttributes: [\n        "unordered(hierarchy.lvl0)",\n        "unordered(hierarchy.lvl1)",\n        "unordered(hierarchy.lvl2)",\n        "unordered(hierarchy.lvl3)",\n        "unordered(hierarchy.lvl4)",\n        "unordered(hierarchy.lvl5)",\n        "unordered(hierarchy.lvl6)",\n        "content",\n      ],\n      distinct: true,\n      attributeForDistinct: "url",\n      customRanking: [\n        "desc(weight.pageRank)",\n        "desc(weight.level)",\n        "asc(weight.position)",\n      ],\n      ranking: [\n        "words",\n        "filters",\n        "typo",\n        "attribute",\n        "proximity",\n        "exact",\n        "custom",\n      ],\n      highlightPreTag: \'<span class="algolia-docsearch-suggestion--highlight">\',\n      highlightPostTag: "</span>",\n      minWordSizefor1Typo: 3,\n      minWordSizefor2Typos: 7,\n      allowTyposOnNumericTokens: false,\n      minProximity: 1,\n      ignorePlurals: true,\n      advancedSyntax: true,\n      attributeCriteriaComputedByMinProximity: true,\n      removeWordsIfNoResults: "allOptional",\n      separatorsToIndex: "_",\n    },\n  },\n});\n'})})}function d(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(h,{...e})}):h(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>l,x:()=>s});var r=t(6540);const i={},a=r.createContext(i);function l(e){const n=r.useContext(a);return r.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:l(e.components),r.createElement(a.Provider,{value:n},e.children)}}}]);