"use strict";(self.webpackChunkwebsite=self.webpackChunkwebsite||[]).push([[9822],{380:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>a,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>u});var s=t(4848),i=t(8453);const o={title:"GitHub Actions"},a=void 0,r={id:"api/deployment/github-actions",title:"GitHub Actions",description:"This configuration assumes that your main directory is ./website",source:"@site/docs/api/deployment/github-actions.mdx",sourceDirName:"api/deployment",slug:"/api/deployment/github-actions",permalink:"/docs/api/deployment/github-actions",draft:!1,unlisted:!1,tags:[],version:"current",lastUpdatedAt:171655973e4,frontMatter:{title:"GitHub Actions"},sidebar:"mySidebar",previous:{title:"CLI",permalink:"/docs/api/deployment/cli"},next:{title:"Styling",permalink:"/docs/api/styling"}},c={},u=[{value:"Template 1",id:"template-1",level:2},{value:"Template 2",id:"template-2",level:2}];function l(n){const e={code:"code",h2:"h2",p:"p",pre:"pre",...(0,i.R)(),...n.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(e.p,{children:["This configuration assumes that your main directory is ",(0,s.jsx)(e.code,{children:"./website"})]}),"\n",(0,s.jsx)(e.h2,{id:"template-1",children:"Template 1"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yml",metastring:'title=".github/workflows/deploy.yml"',children:"\nname: Deploy to GitHub Pages\n\non:\n  push:\n    branches:\n      - main\n\n\npermissions:\n  contents: write\n\njobs:\n  deploy:\n    name: Deploy to GitHub Pages\n    runs-on: ubuntu-latest\n    steps:\n      - uses: actions/checkout@v4\n        with:\n          fetch-depth: 0\n      - uses: actions/setup-node@v4\n        with:\n          node-version: 18\n\n      - name: Install dependencies\n        run: |\n        // highlight-start\n          cd website\n          npm install\n          npm run build\n// highlight-end\n\n      - name: Deploy to GitHub Pages\n        uses: peaceiris/actions-gh-pages@v3\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n\n          publish_dir: website/build\n"})}),"\n",(0,s.jsx)(e.h2,{id:"template-2",children:"Template 2"}),"\n",(0,s.jsx)(e.pre,{children:(0,s.jsx)(e.code,{className:"language-yml",children:"name: GitHub Pages\n\non:\n  push:\n    branches:\n      - main\n    paths:\n      - '.github/workflows/deploy.yml'\n      - 'website/**'\n  pull_request:\n\njobs:\n  deploy:\n    runs-on: ubuntu-latest\n    permissions:\n      contents: write\n    concurrency:\n      group: ${{ github.workflow }}-${{ github.ref }}\n    defaults:\n      run:\n        working-directory: website\n    steps:\n      - uses: actions/checkout@v4\n\n      - name: Setup Node\n        uses: actions/setup-node@v4\n        with:\n          node-version: 20\n\n      - name: Cache dependencies\n        uses: actions/cache@v4\n        with:\n          path: ~/.npm\n          key: ${{ runner.os }}-node-${{ hashFiles('**/package-lock.json') }}\n          restore-keys: |\n            ${{ runner.os }}-node-\n\n      - run: npm ci\n      - run: npm run build\n\n      - name: Deploy\n        uses: peaceiris/actions-gh-pages@v4\n        if: github.ref == 'refs/heads/main'\n        with:\n          github_token: ${{ secrets.GITHUB_TOKEN }}\n          publish_dir: ./website/build\n      \n"})})]})}function p(n={}){const{wrapper:e}={...(0,i.R)(),...n.components};return e?(0,s.jsx)(e,{...n,children:(0,s.jsx)(l,{...n})}):l(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>a,x:()=>r});var s=t(6540);const i={},o=s.createContext(i);function a(n){const e=s.useContext(o);return s.useMemo((function(){return"function"==typeof n?n(e):{...e,...n}}),[e,n])}function r(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(i):n.components||i:a(n.components),s.createElement(o.Provider,{value:e},n.children)}}}]);